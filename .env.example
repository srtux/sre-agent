# =============================================================================
# Auto SRE Agent — Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# See docs/reference/configuration.md for full documentation.
# =============================================================================

# ---------------------------------------------------------------------------
# CORE (Required)
# ---------------------------------------------------------------------------

# Google Cloud Vertex AI (production setup)
GOOGLE_GENAI_USE_VERTEXAI=1
GOOGLE_CLOUD_PROJECT=<your-gcp-project-id>
GOOGLE_CLOUD_LOCATION=us-central1

# Google OAuth Client ID (for Flutter Frontend sign-in)
# Create at: GCP Console > APIs & Services > Credentials > OAuth 2.0 Client IDs
GOOGLE_CLIENT_ID=<your-oauth-client-id>.apps.googleusercontent.com

# AES-256 Fernet key for encrypting session tokens
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
SRE_AGENT_ENCRYPTION_KEY=<your-generated-fernet-key>

# Gemini API key (required if not using ADC/Service Account)
GEMINI_API_KEY=<your-gemini-api-key>

# ---------------------------------------------------------------------------
# ALTERNATIVE: Google AI Studio (simpler, non-Vertex setup)
# ---------------------------------------------------------------------------
# Uncomment these and comment out the Vertex AI section above:
# GOOGLE_GENAI_USE_VERTEXAI=0
# GOOGLE_API_KEY=<your-Google-Gemini-API-key>

# ---------------------------------------------------------------------------
# EXECUTION MODES
# ---------------------------------------------------------------------------

# Remote Agent Engine mode (production). Leave unset for local development.
# SRE_AGENT_ID=projects/<project>/locations/<location>/reasoningEngines/<id>

# Strict End-User Credential enforcement (blocks ADC fallback)
# Set to false for local development; true for production.
STRICT_EUC_ENFORCEMENT=false

# Policy enforcement for tool calls
SRE_AGENT_ENFORCE_POLICY=true

# Disable authentication (local development only — injects dummy credentials)
# ENABLE_AUTH=false

# Allow all CORS origins (development only)
# CORS_ALLOW_ALL=true

# Mark session cookies as non-Secure (for local HTTP development)
# SECURE_COOKIES=false

# ---------------------------------------------------------------------------
# TELEMETRY & DEBUGGING
# ---------------------------------------------------------------------------

# Export spans to Google Cloud Trace
# OTEL_TO_CLOUD=true

# Capture full prompt/response content in traces (verbose — development only)
# OTEL_INSTRUMENTATION_GENAI_CAPTURE_MESSAGE_CONTENT=true

# Logging level
LOG_LEVEL=INFO

# Log format (TEXT for local, JSON for Cloud Run production)
# LOG_FORMAT=JSON

# Debug flags
# DEBUG_TELEMETRY=true
# DEBUG_AUTH=true

# Disable all telemetry (useful in tests)
# DISABLE_TELEMETRY=true

# ---------------------------------------------------------------------------
# EXTERNAL INTEGRATIONS
# ---------------------------------------------------------------------------

# Langfuse tracing (for local agentic debugging)
LANGFUSE_TRACING=false
LANGFUSE_PUBLIC_KEY=<your-langfuse-public-key>
LANGFUSE_SECRET_KEY=<your-langfuse-secret-key>
LANGFUSE_HOST=http://localhost:3000

# Override project for trace queries (if different from host project)
# TRACE_PROJECT_ID=<different-project-id>

# ---------------------------------------------------------------------------
# STORAGE & SESSIONS
# ---------------------------------------------------------------------------

# Force SQLite sessions (default true for local dev)
# USE_DATABASE_SESSIONS=true
# SESSION_DB_PATH=.sre_agent_sessions.db

# Use Firestore for session storage (auto-detected in Cloud Run)
# USE_FIRESTORE=true

# ---------------------------------------------------------------------------
# SERVER
# ---------------------------------------------------------------------------

PORT=8001
HOST=0.0.0.0

# ---------------------------------------------------------------------------
# DEPLOYMENT (used by deploy/ scripts)
# ---------------------------------------------------------------------------

# Cloud Storage bucket for staging Agent Engine artifacts
# GOOGLE_CLOUD_STORAGE_BUCKET=<your-staging-bucket>
